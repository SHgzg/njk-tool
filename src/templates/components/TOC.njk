{% macro use_toc(ctx) %}
<div class="article-toc">
  <input type="checkbox" id="toc-toggle" class="toc-toggle-checkbox">
  <label for="toc-toggle" class="toc-toggle-label">
    <span class="toc-icon">≡</span>
    <span class="toc-text">目录</span>
  </label>
  
  <nav class="toc-nav">
    {% for section in ctx.data %}
    <section class="toc-section">
      {% if section.link %}
      <h3 class="toc-heading">
        <a href="{{ section.link }}" class="toc-link">{{ section.text }}</a>
      </h3>
      {% else%}
      <h3 class="toc-heading">{{ section.text }}</h3>
      {% endif %}
      <ul class="toc-list">
        {% for item in section.items %}
        <li class="toc-item">
          <a href="{{ item.link }}" class="toc-link" data-level="{{ loop.depth }}">
            {% if loop.depth > 1 %}•{% endif %}
            {{ item.text }}
          </a>
        </li>
        {% endfor %}
      </ul>
    </section>
    {% endfor %}
  </nav>
</div>
{% endmacro %}